<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>NVIDIA Tegra Linux Driver Package Development Guide</title><link rel="Prev" href="l4t_manifest.html" title="Previous"><link rel="Next" href="l4t_software_features.html" title="Next"><link rel="StyleSheet" href="css/l4t_getting_started.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/l4t_getting_started_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pDdwBqtcCPGeqJzelnVGcEQ" class="ww_skin_page_body" style="background-attachment: scroll; background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt" onload="Page.OnLoad('../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html');"><header><div><table width="100%" align="center" summary=""><tr><td class="Header_Left"><img alt="NVIDIA Tegra" src="images/NVLogo_2D_H.jpg" width="204" height="44" border="0"></td><td class="Header_Right">
           Tegra Linux Driver Package<br>
           Development Guide <br><font size="-1">May 16, 2016 | 24.1 Release</font></td></tr></table></div><!--     <br clear="all">
 --><hr color="#DEE4F0"><div class="ww_skin_page_toolbar"><!-- Twitter --><!--         --><!-- FaceBook Like --><!--               --><!-- LinkedIn Share --><!--                --><!-- Google +1 --><!--           --><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwpID0E01K0HA" class="Heading_1">Getting Started</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0RK0HA">Reference Board Preparation</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0LK0HA">Boot Options</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0EK0HA">Linux Host System Prerequisites</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E04J0HA">Extracting Tegra Linux Driver Package</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0XJ0HA">Setting Up Your File System</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0FI0HA">Flashing the Boot Loader and Kernel</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0UF0HA">Configuring NFS Root on the Linux Host</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0VE0HA">Synchronizing the Kernel Sources</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0DE0HA">Building the NVIDIA Kernel</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E06C0HA">Building External Kernel Modules</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0LB0HA">OpenGL/EGL Gears Test Application</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E1HA">GStreamer-based Multimedia Playback (NvGstPlayer)</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0ENHA">Gstreamer-based Camera Capture (NvGstCapture)</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0EKHA">NVIDIA Bug Reporting Script</a></div></dd></dl></div><div id="wwpID0E0ZK0HA" class="Body_Text">To ensure success with NVIDIA<span style="font-size: smaller; vertical-align: super">®</span>&nbsp;Tegra<span style="font-size: smaller; vertical-align: super">®</span>&nbsp;Linux Driver Package (L4T), review this topic before you start developing on targeted NVIDIA<span style="font-size: smaller; vertical-align: super">®</span>&nbsp;Tegra<span style="font-size: smaller; vertical-align: super">®</span> devices. L4T software drivers require setup and configuration before use.</div><div id="wwpID0E0YK0HA" class="Body_Text">This guide describes the following L4T functions: </div><div id="wwpID0E0XK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Setting up L4T on your host system</div><div id="wwpID0E0WK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Building the kernel</div><div id="wwpID0E0VK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Flashing binary images</div><div id="wwpID0E0UK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Installing and testing multimedia</div><div id="wwpID0E0TK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Bug reporting programs</div><div id="wwpID0E0SK0HA" class="Body_Text">Consult your board documentation for guidance on setting up and configuring your reference board.</div><div id="wwpID0E0RK0HA" class="Heading_2">Reference Board Preparation</div><div id="wwpID0E0QK0HA" class="Body_Text">When developing systems and application software with L4T, you run and test your code on an actual reference platform, such as the NVIDIA<span style="font-size: smaller; vertical-align: super">®</span>&nbsp;Jetson<span style="font-size: smaller; vertical-align: super">™</span> &nbsp;TX1 developer kit. Your code targets this hardware directly, rather than a software simulator or emulator.</div><div id="wwpID0E0PK0HA" class="Body_Text">Accordingly, you must acquire and set up your reference board before using L4T. Consult your board documentation for guidance on setting up and configuring your board. </div><div id="wwpID0E0OK0HA" class="Body_Text">Although the reference board supports a variety of peripheral devices, you can start developing on L4T with a board that has the following:</div><div id="wwpID0E0NK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>One of the storage devices specified in <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0LK0HA" title="Getting Started">Boot Options</a></span> in this topic. </div><div id="wwpID0E0MK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>A USB cable to plug into the board recovery port.</div><div id="wwpID0E0LK0HA" class="Heading_2">Boot Options</div><div id="wwpID0E0KK0HA" class="Body_Text">Boot L4T on the Jetson TX1 reference board from a root file system (rootfs) on integrated, attached, or network-accessible storage. The boot loader must be loaded from the internal eMMC. Root filesystem options include: </div><div id="wwpID0E0JK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>USB stick (formatted to EXT4)</div><div id="wwpID0E0IK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>USB hard disk (formatted to EXT4)</div><div id="wwpID0E0HK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>SD card (formatted to EXT4)</div><div id="wwpID0E0GK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Internal eMMC</div><div id="wwpID0E0FK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Network File System (NFS)</div><div id="wwpID0E0EK0HA" class="Heading_2">Linux Host System Prerequisites</div><div id="wwpID0E0DK0HA" class="Body_Text">To use L4T on a Linux host system, the following hardware and software prerequisites must be met:</div><div id="wwpID0E0CK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Host PC running Linux 14.04 or above. </div><div id="wwpID0E0BK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>A kernel image (Image). L4T contains a kernel image for your use. Alternatively, you can download and rebuild the kernel image from source. </div><div id="wwpID0E0AK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Boot loader. Flashing on a Tegra X1 series (Jetson TX1) developer board requires a boot loader, which is a combination of NVIDIA T-Boot (nvtboot) and U-Boot.</div><div id="wwpID0E06J0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>NFS if you intend to boot L4T on the reference board from your Linux host system or a network-accessible server.</div><div id="wwpID0E05J0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>A USB cable to plug into the recovery port.</div><div id="wwpID0E04J0HA" class="Heading_2">Extracting Tegra Linux Driver Package</div><div id="wwpID0E03J0HA" class="Body_Text">Use the following procedures to extract your L4T package.</div><div id="wwpID0E02J0HA" class="List_Continue"><span class="Strong">Note</span>: Commands in the examples assume you extracted the release package in ~/.</div><div id="wwpID0E01J0HA" class="Heading_5">To extract Tegra Linux Driver Package</div><div id="wwpID0E0ZJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Extract the package manually by executing the following command:</div><div id="wwpID0E0YJ0HA" class="Code">$ sudo tar -vxjf Tegra&lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/t-arch.html#" title="&lt;t-arch|ver&gt;: 210. [More…]">t‑arch|ver</a></span>&gt;_Linux_&lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/release_num.html#" title="&lt;release_num&gt;: R24 [More…]">release_num</a></span>&gt;.&lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/version_num.html#" title="&lt;version_num&gt;: .10 [More…]">version_num</a></span>&gt;_&lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/release_type.html#" title="&lt;release_type&gt;: aarch64 or armhf [More…]">release_type</a></span>&gt;.tbz2</div><div id="wwpID0E0XJ0HA" class="Heading_2">Setting Up Your File System</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0VJ0HA">Sample Root File System</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0TJ0HA">Setting Up the Root File System</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0PJ0HA">Step 1: Set Up the Root File System</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E03I0HA">Step 2: Copy the rootfs to the Device</a></div></dd></dl></dl></div><div id="wwpID0E0WJ0HA" class="Body_Text">L4T requires a root file system. You must create one the Linux host system and then copy it to your reference board.</div><div id="wwpID0E0VJ0HA" class="Heading_3">Sample Root File System</div><div id="wwpID0E0UJ0HA" class="Body_Text">L4T comes with a pre-built sample root file system created for the Jetson&nbsp;TX1 developer kit. If you wish to create an Ubuntu sample root file system, see <span class="Hyperlink"><a href="https://wiki.ubuntu.com/ARM/RootfsFromScratch" target="external_window">https://wiki.ubuntu.com/ARM/RootfsFromScratch</a></span>.</div><div id="wwpID0E0TJ0HA" class="Heading_3">Setting Up the Root File System</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0PJ0HA">Step 1: Set Up the Root File System</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E03I0HA">Step 2: Copy the rootfs to the Device</a></div></dd></dl></div><div id="wwpID0E0SJ0HA" class="Body_Text">Before booting the target board, you must configure the root file system (rootfs) to:</div><div id="wwpID0E0RJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Set up the rootfs</div><div id="wwpID0E0QJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Copy it to the rootfs on the device</div><div id="wwpID0E0PJ0HA" class="Heading_4">Step 1: Set Up the Root File System</div><div id="wwpID0E0OJ0HA" class="Body_Text">This procedure uses the sample file system provided by NVIDIA as the base. If you wish to use your own file system, set the <span class="Code_Char">LDK_ROOTFS_DIR</span> environment variable to point to the location of your rootfs and skip the steps for setting the root file system.</div><div id="wwpID0E0NJ0HA" class="Heading_5">To set up the rootfs</div><div id="wwpID0E0MJ0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Download the following file to your home directory:</div><div id="wwpID0E0LJ0HA" class="Code">Tegra-Linux-Sample-Root-Filesystem_&lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/release_type.html#" title="&lt;release_type&gt;: aarch64 or armhf [More…]">release_type</a></span>&gt;.tbz2</div><div id="wwpID0E0KJ0HA" class="Number_Continue">This file contains the NVIDIA-provided sample root file system.</div><div id="wwpID0E0JJ0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Extract the compressed file as follows:</div><div id="wwpID0E0IJ0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Navigate to the rootfs directory of the extracted NVIDIA driver package with this command:</div><div id="wwpID0E0HJ0HA" class="Code_Indent">$ cd &lt;your_L4T_root&gt;/Linux_for_Tegra/rootfs</div><div id="wwpID0E0GJ0HA" class="Number_Continue_2">Where <span class="Code_Char">&lt;your_L4T_root&gt;</span> is your L4T root directory, which is assumed to be your home directory (<span class="Code_Char">~</span>).</div><div id="wwpID0E0FJ0HA" class="Number_Continue_2">For more information, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E04J0HA" title="Getting Started">Extracting Tegra Linux Driver Package</a></span> in this section.</div><div id="wwpID0E0EJ0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Extract the sample file system to the rootfs directory with this command:</div><div id="wwpID0E0DJ0HA" class="Code_Indent">$ sudo tar jxpf ../../Tegra-Linux-Sample-Root-Filesystem_&lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/release_type.html#" title="&lt;release_type&gt;: aarch64 or armhf [More…]">release_type</a></span>&gt;.tbz2</div><div id="wwpID0E0CJ0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Run the <span class="Code_Char">apply_binaries.sh</span> script to copy the NVIDIA user space libraries into the target file system:</div><div id="wwpID0E0BJ0HA" class="Code">$ cd ..</div><div id="wwpID0E0AJ0HA" class="Code">$ sudo ./apply_binaries.sh</div><div id="wwpID0E06I0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>If you are using a different rootfs, or if you have already configured your rootfs, apply the NVIDIA user space libraries by setting the <span class="Code_Char">LDK_ROOTFS_DIR</span> environment variable to point to your rootfs. Then run the script, as shown above, to copy the binaries into your target file system.</div><div id="wwpID0E05I0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>If the <span class="Code_Char">apply_binaries.sh</span> script installs the binaries correctly, the last message output from the script is “Success!”.</div><div id="wwpID0E04I0HA" class="Number_Continue">You have now completed setting up the root filesystem. Proceed to flash the rootfs onto the target Tegra device.</div><div id="wwpID0E03I0HA" class="Heading_4">Step 2: Copy the rootfs to the Device</div><div id="wwpID0E02I0HA" class="Body_Text">Use these procedures to copy the file system to the Tegra device.</div><div id="wwpID0E01I0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Pick a device to place your rootfs.</div><div id="wwpID0E0ZI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>If you are using the internal EMMC, skip ahead to <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0FI0HA" title="Getting Started">Flashing the Bootloader and Kernel</a></span>.</div><div id="wwpID0E0YI0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>If you prefer to use an external storage device for the root filesystem, use the following procedure.</div><div id="wwpID0E0XI0HA" class="Heading_5">To copy the file system to an external storage device</div><div id="wwpID0E0WI0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Plug your rootfs device into the host system.</div><div id="wwpID0E0VI0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>If your device is not formatted as Ext4, enter the following command to format it with an Ext4 file system:</div><div id="wwpID0E0UI0HA" class="Code">$ sudo mkfs.ext4 /dev/sd&lt;port&gt;&lt;device number&gt;</div><div id="wwpID0E0TI0HA" class="Number_Continue">Where:</div><div id="wwpID0E0SI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span><span class="Code_Char">&lt;port&gt;</span> is the port to which your device is mounted.</div><div id="wwpID0E0RI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span><span class="Code_Char">&lt;device_number&gt;</span> is the device number of the device attached to the port. You can use the <span class="Code_Char">dmesg</span> command to determine the port.</div><div id="wwpID0E0QI0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>If needed, mount your device with the following command:</div><div id="wwpID0E0PI0HA" class="Code">$ sudo mount /dev/sdX1 &lt;mntpoint&gt;</div><div id="wwpID0E0OI0HA" class="Number_Continue">Where <span class="Code_Char">&lt;mntpoint&gt;</span> is the mount point on the host system for your rootfs device.</div><div id="wwpID0E0NI0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Copy the file system. If <span class="Code_Char">LDK_ROOTFS_DIR</span> is set, execute these commands:</div><div id="wwpID0E0MI0HA" class="Code">$ cd ${LDK_ROOTFS_DIR}</div><div id="wwpID0E0LI0HA" class="Code">$ sudo cp -a * &lt;mntpoint&gt; &amp;&amp; sync</div><div id="wwpID0E0KI0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>If it is not set, copy the rootfs directory that is included in the release by executing the following commands:</div><div id="wwpID0E0JI0HA" class="Code">$ cd &lt;your_L4T_root&gt;/Linux_for_Tegra/rootfs</div><div id="wwpID0E0II0HA" class="Code">$ sudo cp -a * &lt;mntpoint&gt; &amp;&amp; sync</div><div id="wwpID0E0HI0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>After copying the content to the external disk or device, unmount the disk and connect it to the target Tegra device. </div><div id="wwpID0E0GI0HA" class="Body_Text">Proceed to flashing the device with the instructions provided in <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0FI0HA" title="Getting Started">Flashing the Boot Loader and Kernel</a></span>.</div><div id="wwpID0E0FI0HA" class="Heading_2">Flashing the Boot Loader and Kernel</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0DI0HA">Flash Procedure</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0HH0HA">Flash Script Usage</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0CH0HA">Increasing the Internal Memory Partition for the Root File System</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0ZG0HA">Determining the Success of a Driver Update</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0NG0HA">Installing Additional Packages</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0LG0HA">Installing Additional NVIDIA Packages</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0IG0HA">Installing Additional Ubuntu Packages </a></div></dd></dl></dl></div><div id="wwpID0E0EI0HA" class="Body_Text">This section describes the steps to flash and boot the target Tegra device. It also provides usage information for the <span class="Code_Char">flash.sh</span> helper script. </div><div id="wwpID0E0DI0HA" class="Heading_3">Flash Procedure</div><div id="wwpID0E0CI0HA" class="Body_Text">First, flash the board with the boot loader and kernel, and, optionally, flash the rootfs to internal eMMC.</div><div id="wwpID0E0BI0HA" class="Heading_5">Prerequisites</div><div id="wwpID0E0AI0HA" class="Body_Text">The following directories must be present: </div><div id="wwpID0E06H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>bootloader—boot loader plus flashing tools (NvFlash, CFG, <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/BCT.html#" title="BCT: NVIDIA boot configuration table, a binary file used for flashing and updating. [More…]">BCT</a></span>, etc.)</div><div id="wwpID0E05H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>kernel—a kernel <span class="Code_Char">zImage</span> /<span class="Code_Char">vmlinux.uimg</span>, DTB files, and kernel modules</div><div id="wwpID0E04H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>rootfs—the root file system that you download (This directory starts empty and you populate it with the sample file system.)</div><div id="wwpID0E03H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>nv_tegra—NVIDIA<span style="font-size: smaller; vertical-align: super">®</span> Tegra<span style="font-size: smaller; vertical-align: super">®</span> user space binaries and sample applications</div><div id="wwpID0E02H0HA" class="Body_Text">Additionally, before running the following commands, you must have the USB cable connected to the recovery port.</div><div id="wwpID0E01H0HA" class="Heading_5">To flash the boot loader and kernel</div><div id="wwpID0E0ZH0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Put the target into reset/recovery mode. </div><div id="wwpID0E0YH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Power on the carrier board and hold the RECOVERY button.</div><div id="wwpID0E0XH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Then press the RESET button. </div><div id="wwpID0E0WH0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Run the <span class="Code_Char">flash.sh</span> script that is in the top level directory of this release. The script must be supplied with the target board (<span class="Code_Char">jetson-tx1</span>) for the root file system:</div><div id="wwpID0E0VH0HA" class="Code_Indent">sudo ./flash.sh &lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/platform.html#" title="&lt;platform&gt;: jetson-tx1 [More…]">platform</a></span>&gt; &lt;rootdev&gt;</div><div id="wwpID0E0UH0HA" class="List_Continue">Where <span class="Code_Char">&lt;rootdev&gt;</span> depends on where the root file system will be:</div><div id="wwpID0E0TH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>If the root file system will be on the Jetson TX1 internal eMMC, execute the script as follows:</div><div id="wwpID0E0SH0HA" class="Code_Indent">sudo ./flash.sh jetson-tx1 mmcblk0p1</div><div id="wwpID0E0RH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>If the root file system will be on a USB disk, execute the script as follows:</div><div id="wwpID0E0QH0HA" class="Code_Indent">sudo ./flash.sh jetson-tx1 sda1</div><div id="wwpID0E0PH0HA" class="List_Continue_2"><span class="Strong">Note:</span> If a SATA device is connected, that device enumerates as <span class="Code_Char">sda1</span>.</div><div id="wwpID0E0OH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>If the root file system will be on an SD card, execute the script as follows:</div><div id="wwpID0E0NH0HA" class="Code_Indent">sudo ./flash.sh jetson-tx1 mmcblk1p1</div><div id="wwpID0E0MH0HA" class="List_Continue">The above examples are for U-Boot. For Fastboot, add the following argument:</div><div id="wwpID0E0LH0HA" class="Code">-L &lt;PATH_TO_FASTBOOT_BIN_FILE&gt;</div><div id="wwpID0E0KH0HA" class="List_Continue">For example:</div><div id="wwpID0E0JH0HA" class="Code">sudo ./flash.sh -L bootloader/&lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/platform.html#" title="&lt;platform&gt;: jetson-tx1 [More…]">platform</a></span>&gt;/fastboot.bin &lt;platform&gt; &lt;rootdev&gt;</div><div id="wwpID0E0IH0HA" class="List_Continue">This loads the boot loader and kernel.</div><div id="wwpID0E0HH0HA" class="Heading_3">Flash Script Usage</div><div id="wwpID0E0GH0HA" class="Body_Text">Locate the most up-to-date usage information by running <span class="Code_Char">flash.sh</span><span style="font-family: &quot;Courier New&quot;"> -h</span> (using the <span class="Code_Char">flash.sh</span> script included in the release). The basic usage is as follows.</div><div id="wwpID0E0FH0HA" class="Code">sudo ./flash.sh [options] &lt;platform&gt; &lt;rootdev&gt;</div><div id="wwpID0E0EH0HA" class="Body_Text">Where you specify the required parameters and one or more of the options shown in the following table.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt; width: 401.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 80.65pt"><div id="wwpID0EAB50DH0HA" class="Cell_Heading"><span class="Strong">Parameters</span></div></td><td style="background-color: #DDEEBF; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 321.1pt" colspan="2"><div id="wwpID0EAA50DH0HA" class="Cell_Heading"><span class="Strong">Description</span></div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 80.65pt"><div id="wwpID0EAB40DH0HA" class="Cell_Text">&lt;platform&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 321.1pt" colspan="2"><div id="wwpID0EAA40DH0HA" class="Cell_Text">Is the &lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/platform.html#" title="&lt;platform&gt;: jetson-tx1 [More…]">platform</a></span>&gt; for your release.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 80.65pt"><div id="wwpID0EAB30DH0HA" class="Cell_Text">&lt;rootdev&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 321.1pt" colspan="2"><div id="wwpID0EAA30DH0HA" class="Cell_Text">Is one of following:</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 80.65pt" rowspan="4"><div id="wwpID0EAC20DH0HA" class="Cell_Text">&nbsp;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 63pt"><div id="wwpID0EAB20DH0HA" class="Cell_Text">mmcblk0p1</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 258.1pt"><div id="wwpID0EAA20DH0HA" class="Cell_Text">Specifies internal eMMC.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAB10DH0HA" class="Cell_Text">mmcblk1p1</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAA10DH0HA" class="Cell_Text">Specifies external SDCARD.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABZ0DH0HA" class="Cell_Text">sda1</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAZ0DH0HA" class="Cell_Text">Specifies external USB device (such as, USB memory stick or HDD).</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABY0DH0HA" class="Cell_Text">eth0</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAY0DH0HA" class="Cell_Text">Specifies nfsroot via external USB Ethernet interface.</div></td></tr><tr><td style="background-color: #DDEEBF; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABX0DH0HA" class="Cell_Heading"><span class="Strong">Options</span></div></td><td style="background-color: #DDEEBF; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAX0DH0HA" class="Cell_Heading"><span class="Strong">Description</span></div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABW0DH0HA" class="Cell_Text">-h</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAW0DH0HA" class="Cell_Text">Specifies to print this usage information.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABV0DH0HA" class="Cell_Text">-b &lt;bct_file&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAV0DH0HA" class="Cell_Text">Specifies the NvFlash Boot Configuration Table (BCT) file.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABU0DH0HA" class="Cell_Text">-c &lt;cfg_file&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAU0DH0HA" class="Cell_Text">Specifies the NvFlash configuration file.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABT0DH0HA" class="Cell_Text">-d &lt;dtb_file&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAT0DH0HA" class="Cell_Text">Optionally specifies a device tree file to use instead of the default.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABS0DH0HA" class="Cell_Text">-e &lt;emmc_file&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAS0DH0HA" class="Cell_Text">Specifies the eMMC size of the target device.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABR0DH0HA" class="Cell_Text">-f &lt;flashapp&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAR0DH0HA" class="Cell_Text">Specifies the path to flash application: nvflash or tegra-rcm.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABQ0DH0HA" class="Cell_Text">-i</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAQ0DH0HA" class="Cell_Text">Specifies to pass the user kernel command line to the kernel as-is.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABP0DH0HA" class="Cell_Text">-k &lt;partition id&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAP0DH0HA" class="Cell_Text">Specifies the kernel partition ID to be updated (minimum = 5).</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABO0DH0HA" class="Cell_Text">-n &lt;nfs args&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EBAO0DH0HA" class="Cell_Text">Specifies the static NFS network assignments:</div><div id="wwpID0EAAO0DH0HA" class="Code" style="margin-left: 0pt">&lt;Client IP&gt;:&lt;Server IP&gt;:&lt;Gateway IP&gt;:&lt;Netmask&gt;</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABN0DH0HA" class="Cell_Text">-o &lt;odmdata&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAN0DH0HA" class="Cell_Text">Specifies the ODM data value.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABM0DH0HA" class="Cell_Text">-p</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAM0DH0HA" class="Cell_Text">Total eMMC HW boot partition size.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABL0DH0HA" class="Cell_Text">-r</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAL0DH0HA" class="Cell_Text">Specifies to skip building and reuse existing <span class="Code_Char">system.img</span>.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABK0DH0HA" class="Cell_Text">-s &lt;ubootscript&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAK0DH0HA" class="Cell_Text">Specifies the boot script file for U-Boot.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABJ0DH0HA" class="Cell_Text">-C &lt;cmdline&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAJ0DH0HA" class="Cell_Text">Specifies the kernel command line. <span class="Strong">Warning</span>: Each option in this kernel command-line gets higher precedence over the same option from fastboot. In case of NFS booting, this script adds NFS booting related arguments if the -i option is omitted.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABI0DH0HA" class="Cell_Text">-F &lt;flasher&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAI0DH0HA" class="Cell_Text">Specifies the flash server, such as <span class="Code_Char">fastboot.bin</span>.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABH0DH0HA" class="Cell_Text">-I &lt;initrd&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAH0DH0HA" class="Cell_Text">Specifies <span class="Code_Char">initrd</span> file. Null <span class="Code_Char">initrd</span> is the default.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABG0DH0HA" class="Cell_Text">-K &lt;kernel&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAG0DH0HA" class="Cell_Text">Specifies the kernel image, such as zImage.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABF0DH0HA" class="Cell_Text">-L &lt;bootloader&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAF0DH0HA" class="Cell_Text">Specifies the full path to the boot loader, such as <span class="Code_Char">fastboot.bin</span><span class="Body_Text_Char"> or </span><span class="Code_Char">u-boot.bin</span>.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0DH0HA" class="Cell_Text">-P &lt;end_of_PPT_plus_1&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAE0DH0HA" class="Cell_Text">Specifies the sum of the primary GPT start address, the size of PPT, plus 1.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD0DH0HA" class="Cell_Text">-R &lt;rootfs_dir&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAD0DH0HA" class="Cell_Text">Specifies the sample rootfs directory.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0DH0HA" class="Cell_Text">-N &lt;nfsroot&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EBAC0DH0HA" class="Cell_Text">Specifies the nfsroot, for example:</div><div id="wwpID0EAAC0DH0HA" class="Cell_Text"><span style="font-family: &quot;Courier New&quot;">&lt;my IP addr&gt;:/my/exported/nfs/rootfs</span></div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0DH0HA" class="Cell_Text">-S &lt;size&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAB0DH0HA" class="Cell_Text">Specifies the rootfs size in bytes. This is valid only for internal rootdev. KiB, MiB, GiB style shorthand is allowed. For example, 1GiB signifies 1024 * 1024 * 1024 bytes.</div></td></tr><tr><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0DH0HA" class="Cell_Text">-T &lt;ITS_file&gt;</div></td><td style="border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAA0DH0HA" class="Cell_Text">ITS file name. Valid only for u-boot.</div></td></tr></table></div><div id="wwpID0E0CH0HA" class="Heading_3">Increasing the Internal Memory Partition for the Root File System</div><div id="wwpID0E0BH0HA" class="Body_Text">The suggested rootfs partition size for the Jetson TX1 platform is 15 gigabytes (GB) and is specified by default in the <span class="Code_Char">&lt;target_board&gt;.conf</span> file used by the <span class="Code_Char">flash.sh</span> script. </div><div id="wwpID0E0AH0HA" class="Body_Text">The “<span class="Code_Char">-S &lt;size-in-bytes&gt;</span>” argument to <span class="Code_Char">flash.sh</span> can be used to change the partition size.</div><div id="wwpID0E06G0HA" class="Heading_5">To flash for a larger partition</div><div id="wwpID0E05G0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Execute the following command:</div><div id="wwpID0E04G0HA" class="Code">$ sudo ./flash.sh -S &lt;size&gt; &lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/platform.html#" title="&lt;platform&gt;: jetson-tx1 [More…]">platform</a></span>&gt; &lt;rootdev&gt;</div><div id="wwpID0E03G0HA" class="List_Continue">Where:</div><div id="wwpID0E02G0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span><span class="Code_Char">&lt;size&gt;</span> is the desired size for the partition, such as 8589934592 (or 8 GiB) for 8 GB, if you want to decrease the size of the partition.</div><div id="wwpID0E01G0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span><span class="Code_Char">&lt;rootdev&gt;</span> is the rootfs partition’s internal memory, for example mmcblk0p1.</div><div id="wwpID0E0ZG0HA" class="Heading_3">Determining the Success of a Driver Update</div><div id="wwpID0E0YG0HA" class="Body_Text">After updating drivers on a target board, verify that the update completed successfully. You can determine the success or failure of a driver update by using the following commands.</div><div id="wwpID0E0XG0HA" class="Heading_5">To determine the success of a driver update </div><div id="wwpID0E0WG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Execute the following command on a booted target device:</div><div id="wwpID0E0VG0HA" class="Code">$ sha1sum -c /etc/nv_tegra_release</div><div id="wwpID0E0UG0HA" class="Body_Text">If the driver update succeeded, the output displays the word <span class="Emphasis">OK</span> after the file name. A typical success message looks like this:</div><div id="wwpID0E0TG0HA" class="Code">/usr/lib/xorg/modules/drivers/nvidia_drv.so: OK</div><div id="wwpID0E0SG0HA" class="Body_Text">The driver update fails if the file is missing. A typical error message looks like this:</div><div id="wwpID0E0RG0HA" class="Code">sha1sum: /usr/lib/xorg/modules/drivers/nvidia_drv.so: No such file or directory</div><div id="wwpID0E0QG0HA" class="Code">/usr/lib/xorg/modules/drivers/nvidia_drv.so: FAILED open or read</div><div id="wwpID0E0PG0HA" class="Body_Text">The driver update also fails if the new file is not the same as the existing file, producing an error such as:</div><div id="wwpID0E0OG0HA" class="Code">/usr/lib/xorg/modules/drivers/nvidia_drv.so: FAILED</div><div id="wwpID0E0NG0HA" class="Heading_3">Installing Additional Packages</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0LG0HA">Installing Additional NVIDIA Packages</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0IG0HA">Installing Additional Ubuntu Packages </a></div></dd></dl></div><div id="wwpID0E0MG0HA" class="Body_Text">L4T comes with additional NVIDIA packages, including packages for Ubuntu and Google Chrome.</div><div id="wwpID0E0LG0HA" class="Heading_4">Installing Additional NVIDIA Packages</div><div id="wwpID0E0KG0HA" class="Body_Text">Additional NVIDIA packages may be posted alongside the release. To make full use of the features in the release, install these additional packages. </div><div id="wwpID0E0JG0HA" class="Body_Text">Directly after the <span class="Code_Char">apply_binaries</span> step in <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0TJ0HA" title="Getting Started">Setting Up the Root File System</a></span>, you can install the package into the configured rootfs.</div><div id="wwpID0E0IG0HA" class="Heading_4">Installing Additional Ubuntu Packages </div><div id="wwpID0E0HG0HA" class="Body_Text">Install additional packages from Ubuntu, using the provided sample file system. </div><div id="wwpID0E0GG0HA" class="List_Continue"><span style="font-weight: bold">Note:</span> L4T is tested with the provided sample file system Ubuntu packages. Periodic Ubuntu package updates from Canonical are not validated.</div><div id="wwpID0E0FG0HA" class="Heading_5">To receive notifications</div><div id="wwpID0E0EG0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Locate and edit the following file:</div><div id="wwpID0E0DG0HA" class="Code"><span class="Code_Char">/etc/apt/sources.list</span></div><div id="wwpID0E0CG0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Add the following line:</div><div id="wwpID0E0BG0HA" class="Code">deb <a href="http://ports.ubuntu.com/ubuntu-ports" target="external_window">http://ports.ubuntu.com/ubuntu-ports</a> &lt;distribution&gt;-updates main universe</div><div id="wwpID0E0AG0HA" class="Number_Continue">Where <span class="Code_Char">&lt;distribution&gt;</span> is the name of the Ubuntu distribution your rootfs is based on. For example, for a rootfs based on the Trusty Tahr distribution of Ubuntu, add the line:</div><div id="wwpID0E06F0HA" class="Code">deb <a href="http://ports.ubuntu.com/ubuntu-ports" target="external_window">http://ports.ubuntu.com/ubuntu-ports</a> trusty-updates main universe</div><div id="wwpID0E05F0HA" class="Heading_5">Prerequisite</div><div id="wwpID0E04F0HA" class="Body_Text">You have attached an Ethernet cable to the device through either the Ethernet port (if available) or through the USB Ethernet adapter.</div><div id="wwpID0E03F0HA" class="Heading_5">To install more packages</div><div id="wwpID0E02F0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Boot the target device.</div><div id="wwpID0E01F0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Verify your Ethernet connection.</div><div id="wwpID0E0ZF0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Update the package list by executing:</div><div id="wwpID0E0YF0HA" class="Code">$ sudo apt-get update</div><div id="wwpID0E0XF0HA" class="List_Continue"><span class="Strong">Note</span>: Ensure that you run <span class="Code_Char">sudo apt-get update</span><span class="Body_Text_Char"> </span>and not <span class="Code_Char">apt-get upgrade</span>, which upgrades already installed packages. Do not confuse the two commands.</div><div id="wwpID0E0WF0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Install packages using <span class="Code_Char">apt-get</span>. For example, to install <span class="Code_Char">wget</span> execute this command:</div><div id="wwpID0E0VF0HA" class="Code">$ sudo apt-get install wget</div><div id="wwpID0E0UF0HA" class="Heading_2">Configuring NFS Root on the Linux Host</div><div id="wwpID0E0TF0HA" class="Body_Text">To boot the target device from NFS, you must provide an NFS root mount point on your Linux host machine. Following are the general steps for configuring an NFS root on the Linux host.</div><div id="wwpID0E0SF0HA" class="Heading_5">Prerequisites</div><div id="wwpID0E0RF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>An Ethernet connection to install packages on the host.</div><div id="wwpID0E0QF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>An Ethernet connection on the target.</div><div id="wwpID0E0PF0HA" class="Heading_5">To configure NFS root on the Linux host</div><div id="wwpID0E0OF0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Install the <span class="Code_Char">nfs</span> components on your host machine:</div><div id="wwpID0E0NF0HA" class="Code">$ sudo apt-get install nfs-common nfs-kernel-server</div><div id="wwpID0E0MF0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>The NFS server must know which directories you want to 'export' for clients. This information is specified in the <span class="Code_Char">/etc/exports</span> file. </div><div id="wwpID0E0LF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Modify <span class="Code_Char">/etc/exports</span> to look somewhat like this:</div><div id="wwpID0E0KF0HA" class="Code_Indent">$ /nfsroot *(rw,nohide,insecure,no_subtree_check,async,no_root_squash)</div><div id="wwpID0E0JF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>After adding the entry, restart using the following command:</div><div id="wwpID0E0IF0HA" class="Code_Indent">$ sudo /etc/init.d/nfs-kernel-server restart</div><div id="wwpID0E0HF0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Create an <span class="Code_Char">/nfsroot</span> directory on your Linux host machine:</div><div id="wwpID0E0GF0HA" class="Code">$ sudo mkdir /nfsroot</div><div id="wwpID0E0FF0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Copy the file system to the <span class="Code_Char">nfsroot</span> directory:</div><div id="wwpID0E0EF0HA" class="Code">$ cd ./rootfs</div><div id="wwpID0E0DF0HA" class="Code">$ sudo cp -a * /nfsroot</div><div id="wwpID0E0CF0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Export the root point:</div><div id="wwpID0E0BF0HA" class="Code">$ sudo exportfs -a</div><div id="wwpID0E0AF0HA" class="Number_Continue">Alternatively, you can export or un-export all directories by using the <span class="Code_Char">-a</span> and <span class="Code_Char">-u</span> flags. The following command un-exports all directories:</div><div id="wwpID0E06E0HA" class="Code">$ sudo exportfs -au</div><div id="wwpID0E05E0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>(Optional) If the Ubuntu firewall blocks NFS root access, it must be disabled depending upon your configuration. You can do so with the following command:</div><div id="wwpID0E04E0HA" class="Code">$ sudo ufw disable</div><div id="wwpID0E03E0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>7.	</span></span>If there are issues performing the NFS boot, to separately verify everything on the ‘host’ machine is configured properly, you can perform the following step on a booted target board through USB/SD/internal eMMC. It should be possible to mount the host NFS root point on the target device:</div><div id="wwpID0E02E0HA" class="Code">$ mkdir rootfs</div><div id="wwpID0E01E0HA" class="Code">$ sudo mount -v -o nfsvers=3 &lt;IP-ADDR&gt;:/nfsroot rootfs</div><div id="wwpID0E0ZE0HA" class="Number_Continue">Where <span class="Code_Char">&lt;IP-ADDR&gt;</span> is the IP address of the Linux Host machine as taken from the <span class="Code_Char">ifconfig</span> command. This proves that the host configuration is correct.</div><div id="wwpID0E0YE0HA" class="Number_Continue"><span class="Strong">Note</span>: Prior to executing the mount command on the target machine, you must install the <span class="Code_Char">nfs-common</span> package using the following command:</div><div id="wwpID0E0XE0HA" class="Code">$ sudo apt-get install nfs-common</div><div id="wwpID0E0WE0HA" class="Body_Text">To boot the target with the NFS root point, see the <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0E0FI0HA" title="Getting Started">Flashing the Boot Loader and Kernel</a></span> topic in this section and be sure to include the <span class="Code_Char">-N</span> option for the nfs root point.</div><div id="wwpID0E0VE0HA" class="Heading_2">Synchronizing the Kernel Sources</div><div id="wwpID0E0UE0HA" class="Body_Text">You can manually rebuild the kernel used for this package. Internet access is required.</div><div id="wwpID0E0TE0HA" class="Heading_5">Prerequisites</div><div id="wwpID0E0SE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>You have installed Git. Install Git with the following command:</div><div id="wwpID0E0RE0HA" class="Code">$ sudo apt-get install git-core</div><div id="wwpID0E0QE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Your system has the default Git port 9418 open for outbound connections.</div><div id="wwpID0E0PE0HA" class="Heading_5">To rebuild the kernel</div><div id="wwpID0E0OE0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Get the kernel source by running the <span class="Code_Char">source_sync.sh</span> script:</div><div id="wwpID0E0NE0HA" class="Code">$ ./source_sync.sh -k</div><div id="wwpID0E0ME0HA" class="Number_Continue">When prompted enter a ‘tag’ name, as provided in the release notes. </div><div id="wwpID0E0LE0HA" class="Number_Continue">—Or—</div><div id="wwpID0E0KE0HA" class="Number_Continue">Manually sync the sources, as follows:</div><div id="wwpID0E0JE0HA" class="Code">$ cd &lt;myworkspace&gt;</div><div id="wwpID0E0IE0HA" class="Code">$ git clone git://nv-tegra.nvidia.com/linux-&lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/lnx_ver.html#" title="&lt;lnx_ver&gt;: 3.10. [More…]">lnx_ver</a></span>&gt;.git kernel_sources</div><div id="wwpID0E0HE0HA" class="Code">$ cd kernel_sources</div><div id="wwpID0E0GE0HA" class="Code">$ git checkout &lt;<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/Glossary/release_tag.html#" title="release_tag: tegra-l4t-r24.1 [More…]">release_tag</a></span>&gt;</div><div id="wwpID0E0FE0HA" class="Number_Continue">You can sync to any Linux tag you like. However, the tag provided in the release notes syncs the sources to the same source revision the release binary was built from. To see a list of the available release tags, use:</div><div id="wwpID0E0EE0HA" class="Code">$ git tag -l tegra-l4t*</div><div id="wwpID0E0DE0HA" class="Heading_2">Building the NVIDIA Kernel</div><div id="wwpID0E0CE0HA" class="Body_Text">Follow the steps in this procedure to build the NVIDIA kernel.</div><div id="wwpID0E0BE0HA" class="Heading_5">Prerequisites</div><div id="wwpID0E0AE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>You have downloaded the kernel source code.</div><div id="wwpID0E06D0HA" class="Heading_5">To build the Tegra Kernel</div><div id="wwpID0E05D0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Export the following environment variables: </div><div id="wwpID0E04D0HA" class="Code">$ export CROSS_COMPILE=&lt;crossbin&gt;</div><div id="wwpID0E03D0HA" class="Code">$ export CROSS32CC=&lt;cross32bin&gt;gcc</div><div id="wwpID0E02D0HA" class="Code">$ export TEGRA_KERNEL_OUT=&lt;outdir&gt;</div><div id="wwpID0E01D0HA" class="Code">$ export ARCH=arm64</div><div id="wwpID0E0ZD0HA" class="Number_Continue">Where:</div><div id="wwpID0E0YD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span><span class="Code_Char">&lt;crossbin&gt;</span> is the prefix applied to form the path to the tool chain for cross compilation targeting arm64, e.g., <span class="Code_Char">gcc</span>. For a Linaro tool chain, it will look something like:</div><div id="wwpID0E0XD0HA" class="Code_Indent">&lt;linaro_install&gt;/aarch64-unknown-linux-gnu/bin/aarch64-unknown-linux-gnu-</div><div id="wwpID0E0WD0HA" class="List_Continue_2"><span class="Strong">Note:</span> This example requires GCC 4.8 or above. See <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_tx1_toolchain.html#" title="Building AARCH 64 Crosstool-ng Toolchain and glibc">Jetson TX1 Toolchains</a></span> for information on how to obtain the reference toolchains.</div><div id="wwpID0E0VD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span><span class="Code_Char">&lt;cross32bin&gt;</span> is the prefix applied to form the path to the tool chain for cross compilation targeting arm32, e.g., <span class="Code_Char">gcc</span>. For a CodeSourcery tool chain, it will look something like:</div><div id="wwpID0E0UD0HA" class="Code_Indent">&lt;csinstall&gt;/arm-2009q1-203-arm-none-linux-gnueabi/bin/arm-none-linux-gnueabi-</div><div id="wwpID0E0TD0HA" class="Code_Indent">And CROSS32CC would be:</div><div id="wwpID0E0SD0HA" class="Code_Indent">&lt;csinstall&gt;/arm-2009q1-203-arm-none-linux-gnueabi/bin/arm-none-linux-gnueabi-gcc</div><div id="wwpID0E0RD0HA" class="List_Continue_2"><span class="Strong">Note:</span> This example requires GCC 4.7 or above.</div><div id="wwpID0E0QD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span><span class="Code_Char">&lt;outdir&gt;</span> is the desired destination for the compiled kernel.</div><div id="wwpID0E0PD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Execute the following commands to create the <span class="Code_Char">.config</span>:</div><div id="wwpID0E0OD0HA" class="Code">$ cd &lt;myworkspace&gt;/&lt;kernel_source&gt;</div><div id="wwpID0E0ND0HA" class="Code">$ mkdir $TEGRA_KERNEL_OUT</div><div id="wwpID0E0MD0HA" class="List_Continue">Where &lt;kernel_source&gt; directory contains the kernel sources.</div><div id="wwpID0E0LD0HA" class="List_Continue">For Tegra X1, Jetson TX1, use:</div><div id="wwpID0E0KD0HA" class="Code">$ make O=$TEGRA_KERNEL_OUT tegra21_defconfig</div><div id="wwpID0E0JD0HA" class="Number_Continue">Where <span class="Code_Char">&lt;myworkspace&gt;</span> is the parent of the Git root.</div><div id="wwpID0E0ID0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Execute the following commands to build the kernel:</div><div id="wwpID0E0HD0HA" class="Code">$ make O=$TEGRA_KERNEL_OUT zImage</div><div id="wwpID0E0GD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Execute the following command to create the kernel device tree components:</div><div id="wwpID0E0FD0HA" class="Code">$ make O=$TEGRA_KERNEL_OUT dtbs</div><div id="wwpID0E0ED0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Execute the following commands to build the kernel modules (and optionally install them)</div><div id="wwpID0E0DD0HA" class="Code">$ make O=$TEGRA_KERNEL_OUT modules</div><div id="wwpID0E0CD0HA" class="Code">$ make O=$TEGRA_KERNEL_OUT modules_install INSTALL_MOD_PATH=&lt;your_destination&gt;</div><div id="wwpID0E0BD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>Copy both the uncompressed (Image) and compressed (zImage) kernel images over the ones present in the ‘kernel’ directory of the release.</div><div id="wwpID0E0AD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>7.	</span></span>Archive the kernel modules created in Step 4 using the <span class="Code_Char">tar</span> command and the filename that is used for the kernel modules TAR file in the same kernel directory of the release. When both of those TAR files are present, you can follow the instructions provided in this document to flash and load your newly built kernel.</div><div id="wwpID0E06C0HA" class="Heading_2">Building External Kernel Modules</div><div id="wwpID0E05C0HA" class="Body_Text">The procedures in this section describe how to build an out-of-tree kernel module against kernel headers included in the BSP.</div><div id="wwpID0E04C0HA" class="Body_Text">The kernel headers are installed at: /usr/src/linux-headers-&lt;kernel version&gt;</div><div id="wwpID0E03C0HA" class="Heading_5">To compile natively on the target system</div><div id="wwpID0E02C0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Determine user space architecture with the following command:</div><div id="wwpID0E01C0HA" class="Code">getconf LONG_BIT</div><div id="wwpID0E0ZC0HA" class="List_Continue">The command returns <span class="Code_Char">64</span> for AARCH64 and <span class="Code_Char">32</span> for ARM.</div><div id="wwpID0E0YC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>In AARCH64 user space, prepare the kernel headers with the following commands:</div><div id="wwpID0E0XC0HA" class="Code">$ cd /usr/src/linux-headers-`uname -r`</div><div id="wwpID0E0WC0HA" class="Code">$ sudo make modules_prepare</div><div id="wwpID0E0VC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Build the kernel module.</div><div id="wwpID0E0UC0HA" class="Body_Text">Building in ARM user space is not recommended because an AARCH64 cross-compile toolchain is required. The procedure below installs an AARCH64 toolchain but also switches the userspace runtime to AARCH64. This can cause problems for other user space binaries installed from the BSP.</div><div id="wwpID0E0TC0HA" class="Body_Text">For best results, use the AARCH64 user space or cross-compile the module on an x86/x86_64 system.</div><div id="wwpID0E0SC0HA" class="Heading_5">To compile natively in ARM user space on the target system</div><div id="wwpID0E0RC0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Install aarch64 toolchains with the following commands:</div><div id="wwpID0E0QC0HA" class="Code">sudo dpkg --add-architecture arm64</div><div id="wwpID0E0PC0HA" class="Code">sudo apt-get update</div><div id="wwpID0E0OC0HA" class="Code">sudo apt-get install libc6:arm64 binutils:arm64 cpp- 4.8:arm64 gcc-4.8:arm64</div><div id="wwpID0E0NC0HA" class="Code">sudo ln -s /usr/bin/aarch64-linux-gnu-gcc-4.8 /usr/bin/gcc</div><div id="wwpID0E0MC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Confirm gcc availability with the following command:</div><div id="wwpID0E0LC0HA" class="Code">gcc -v</div><div id="wwpID0E0KC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Confirm the architecture with the following command:</div><div id="wwpID0E0JC0HA" class="Code">uname -m</div><div id="wwpID0E0IC0HA" class="List_Continue">Expected output is <span class="Code_Char">aarch64</span>.</div><div id="wwpID0E0HC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Prepare the kernel headers with the following commands:</div><div id="wwpID0E0GC0HA" class="Code">cd /usr/src/linux-headers-`uname -r`</div><div id="wwpID0E0FC0HA" class="Code">export ARCH=arm64</div><div id="wwpID0E0EC0HA" class="Code">sudo make modules_prepare</div><div id="wwpID0E0DC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Build the kernel module.</div><div id="wwpID0E0CC0HA" class="Body_Text">If the makefile for the module uses <span class="Code_Char">uname -m</span> to determine the architecture, it incorrectly uses <span class="Code_Char">aarch64</span> instead of <span class="Code_Char">arm64</span>. The following error is displayed during build:</div><div id="wwpID0E0BC0HA" class="Code">make[1]: *** No rule to make target `/usr/src/linux-headers-3.10.67-g458d45c/arch/aarch64/Makefile'.  Stop.</div><div id="wwpID0E0AC0HA" class="Body_Text">To avoid this issue, modify the makefile to set <span class="Code_Char">ARCH</span> to <span class="Code_Char">arm64</span>.</div><div id="wwpID0E06B0HA" class="Body_Text">The recommended non-target build system configuration is x86/x86_64, Ubuntu 14.04.</div><div id="wwpID0E05B0HA" class="Heading_5">To cross-compile on another system</div><div id="wwpID0E04B0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Uncompress the following kernel headers to a local directory:</div><div id="wwpID0E03B0HA" class="Code"> &lt;top&gt;/Linux_for_Tegra/kernel/kernel_headers.tbz2</div><div id="wwpID0E02B0HA" class="List_Continue">with the following commands:</div><div id="wwpID0E01B0HA" class="Code">cd &lt;local src dir&gt;</div><div id="wwpID0E0ZB0HA" class="Code">tar xpf &lt;top&gt;/Linux_for_Tegra/kernel/kernel_headers.tbz2</div><div id="wwpID0E0YB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Set up the cross-compile toolchain with the following commands:</div><div id="wwpID0E0XB0HA" class="Code">export CROSS_COMPILE=&lt;crossbin&gt;</div><div id="wwpID0E0WB0HA" class="Code">export ARCH=arm64</div><div id="wwpID0E0VB0HA" class="List_Continue">Where <span class="Code_Char">&lt;crossbin&gt;</span> completes path to the tool chain for cross compilation targeting <span class="Code_Char">arm64</span>, e.g., <span class="Code_Char">gcc</span>. For a Linaro tool chain, the path is similar to the following:</div><div id="wwpID0E0UB0HA" class="Code">&lt;linaro_install&gt;/aarch64-unknown-linux-gnu/bin/aarch64-unknown-linux-gnu-</div><div id="wwpID0E0TB0HA" class="List_Continue">See <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_tx1_toolchain.html#" title="Building AARCH 64 Crosstool-ng Toolchain and glibc">Jetson-TX1 Toolchains</a></span> for how to obtain the reference toolchains.</div><div id="wwpID0E0SB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Prepare the kernel headers with the following commands:</div><div id="wwpID0E0RB0HA" class="Code">cd &lt;local src dir&gt;/linux-headers-&lt;kernel version&gt;</div><div id="wwpID0E0QB0HA" class="Code">export ARCH=arm64</div><div id="wwpID0E0PB0HA" class="Code">sudo make modules_prepare</div><div id="wwpID0E0OB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Specify <span class="Code_Char">&lt;local_source_directory&gt;/linux-headers-&lt;kernel version&gt;</span> as the kernel source path, with the following line in the make file:</div><div id="wwpID0E0NB0HA" class="Code">make -C &lt;local src dir&gt;/linux-headers-&lt;kernel version&gt; M=$(PWD) modules</div><div id="wwpID0E0MB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Build the kernel module.</div><div id="wwpID0E0LB0HA" class="Heading_2">OpenGL/EGL Gears Test Application</div><div id="wwpID0E0KB0HA" class="Body_Text">To run a sample OpenGL/EGL test application, you can run the open-source Gears application.</div><div id="wwpID0E0JB0HA" class="Heading_5">To install and run Gears test application</div><div id="wwpID0E0IB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Boot the target system with an Ethernet connection. </div><div id="wwpID0E0HB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Enable package download from the “universe” repository by editing /etc/apt/sources.list as root:</div><div id="wwpID0E0GB0HA" class="Code">$ sudo vi /etc/apt/sources.list</div><div id="wwpID0E0FB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Uncomment the following line in the file by removing the leading # character:</div><div id="wwpID0E0EB0HA" class="Code"># deb http://ports.ubuntu.com/ubuntu-ports/ trusty universe</div><div id="wwpID0E0DB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Update the repository:</div><div id="wwpID0E0CB0HA" class="Code">$ sudo apt-get update</div><div id="wwpID0E0BB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Install the <span class="Code_Char">mesa-utils</span> and <span class="Code_Char">mesa-utils-extra</span> packages:</div><div id="wwpID0E0AB0HA" class="Code">$ sudo apt-get install -y mesa-utils</div><div id="wwpID0E6HA" class="Code">$ sudo apt-get install -y mesa-utils-extra</div><div id="wwpID0E5HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>At this point you should be able to run the application with the following steps:</div><div id="wwpID0E4HA" class="Code">$ export DISPLAY=:0</div><div id="wwpID0E3HA" class="Code">$ X&amp;</div><div id="wwpID0E2HA" class="Code">$ /usr/bin/es2gears</div><div id="wwpID0E1HA" class="Heading_2">GStreamer-based Multimedia Playback (NvGstPlayer)</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0EXHA">Installing GStreamer</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_getting_started.html#wwpID0EQHA">Using NvGstPlayer</a></div></dd></dl></div><div id="wwpID0EZHA" class="Body_Text">Use the GStreamer open source multimedia framework and the NvGstPlayer utility for testing multimedia local playback and HTTP/RTSP streaming playback use cases. The NvGstPlayer can be used as a reference implementation.</div><div id="wwpID0EYHA" class="Body_Text">For more information about the NvGstPlayer application, refer to the ReadMe file included with the release.</div><div id="wwpID0EXHA" class="Heading_3">Installing GStreamer</div><div id="wwpID0EWHA" class="Body_Text">Install GStreamer from the Internet directly on the target. The wrapper library, <span class="Code_Char">gst-openmax</span>, is an interface between GStreamer and OpenMAX. It enables accelerated NVIDIA plug-ins in the GStreamer framework.</div><div id="wwpID0EVHA" class="Body_Text">For more information about GStreamer, see the following website:</div><div id="wwpID0EUHA" class="Code"><span class="Weblink"><a href="http://gstreamer.freedesktop.org/" target="external_window">http://gstreamer.freedesktop.org </a></span></div><div id="wwpID0ETHA" class="Body_Text">NvGstPlayer is a multimedia player test application.</div><div id="wwpID0ESHA" class="Body_Text">Complete prerequisite steps in the file <span class="Code_Char">nvgstcapture_README.txt</span> before running the NvGstPlayer and NvGstCapture applications.</div><div id="wwpID0ERHA" class="Body_Text">Instructions for installing GStreamer are also included in that text file.</div><div id="wwpID0EQHA" class="Heading_3">Using NvGstPlayer</div><div id="wwpID0EPHA" class="Body_Text">NvGstPlayer is a command line media file player. It plays audio/video files encapsulated in MP4, 3GP, AVI, ASF, WMA, MKV, M2TS, WEBM, and MOV. NvGstPlayer supports local file playback and playback over RSTP, HTTP, and UDP.</div><div id="wwpID0EOHA" class="Body_Text">For information about NvGstPlayer runtime commands, default settings, and important notes see the <span class="Code_Char">nvgstplayer_README.txt</span> file included in the release. </div><div id="wwpID0ENHA" class="Heading_2">Gstreamer-based Camera Capture (NvGstCapture)</div><div id="wwpID0EMHA" class="Body_Text">The NvGstCapture application supports GStreamer version 0.10.36 by default. NvGstCapture captures audio and video data using a microphone and camera and encapsulate encoded A/V data in the container file.</div><div id="wwpID0ELHA" class="Body_Text">For NvGstCapture installation and usage information, see the <span class="Code_Char">nvgstcapture-&lt;VERSION&gt;_README.txt</span> file included with the release at <span class="Code_Char">~Linux_for_Tegra/nv_tegra/nv_sample_apps</span>.</div><div id="wwpID0EKHA" class="Heading_2">NVIDIA Bug Reporting Script</div><div id="wwpID0EJHA" class="Body_Text">For debugging purposes, attach the log file to communicate issues found with the release. Use the <span class="Code_Char">nvidia-bug-report-tegra.sh</span> script to generate log files.</div><div id="wwpID0EIHA" class="Heading_5">To generate a log file for bug reporting</div><div id="wwpID0EHHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Log into the target board and enter the following command:</div><div id="wwpID0EGHA" class="Code">$ sudo /usr/bin/nvidia-bug-report-tegra.sh</div><div id="wwpID0EFHA" class="Heading_5">To generate a log file for bug reporting with extended logging mode</div><div id="wwpID0EEHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Log into the target board and enter the following command:</div><div id="wwpID0EDHA" class="Code">$ sudo /usr/bin/nvidia-bug-report-tegra.sh -e</div><div id="wwpID0ECHA" class="Body_Text">By default, the logfile generated by both these procedures is located at <span class="Code_Char">$HOME/nvidia-bug-report-tegra.log</span>.</div><div id="wwpID0EBHA" class="List_Continue"><span class="Strong">Note:</span> Attach a log file when reporting any bugs to NVIDIA, whether through email or the forums.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br><hr color="#DEE4F0"><table width="90%" align="center" summary=""><tr><td class="Footer_Left"><font color="gray"><b><br>
        Copyright © 2011-2016 by NVIDIA Corporation.
          All rights reserved.
        </font></td><td class="Footer_Right"><font color="gray">
           PG_06076-R24<br>
        Revised: 11 May 2016
        </font></td></tr></table></footer></body></html>