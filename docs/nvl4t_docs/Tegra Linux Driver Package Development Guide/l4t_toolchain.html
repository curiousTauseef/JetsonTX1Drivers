<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>NVIDIA Tegra Linux Driver Package Development Guide</title><link rel="Prev" href="l4t_asoc_driver.html" title="Previous"><link rel="Next" href="l4t_tx1_toolchain.html" title="Next"><link rel="StyleSheet" href="css/l4t_toolchain.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/l4t_toolchain_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pHMu_002bDORXUDaG_002fis37NIu_002bw" class="ww_skin_page_body" style="background-attachment: scroll; background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt" onload="Page.OnLoad('../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_toolchain.html');"><header><div><table width="100%" align="center" summary=""><tr><td class="Header_Left"><img alt="NVIDIA Tegra" src="images/NVLogo_2D_H.jpg" width="204" height="44" border="0"></td><td class="Header_Right">
           Tegra Linux Driver Package<br>
           Development Guide <br><font size="-1">May 16, 2016 | 24.1 Release</font></td></tr></table></div><!--     <br clear="all">
 --><hr color="#DEE4F0"><div class="ww_skin_page_toolbar"><!-- Twitter --><!--         --><!-- FaceBook Like --><!--               --><!-- LinkedIn Share --><!--                --><!-- Google +1 --><!--           --><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwpID0E0BE0HA" class="Heading_1">Building Hardfp Crosstool-ng Toolchain and glibc</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_toolchain.html#wwpID0E04D0HA">Toolchain Information</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_toolchain.html#wwpID0E0YD0HA">Host System Requirements</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_toolchain.html#wwpID0E0SD0HA">Dependent Packages</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_toolchain.html#wwpID0E0GD0HA">Building the Toolchain Suite</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_toolchain.html#wwpID0E0QB0HA">Verifying the Build</a></div></dd></dl></div><div id="wwpID0E0AE0HA" class="Body_Text">The NVIDIA® Tegra® Linux Driver Package contains the source code for the Crosstool-NG toolchain suite version 4.5.3 and the glibc suite. The Cross-NG toolchain suite resembles the toolchain NVIDIA uses to produce the L4T binaries. </div><div id="wwpID0E06D0HA" class="Body_Text">This topic describes how to build Crosstool-NG and glibc on your Ubuntu host system.</div><div id="wwpID0E05D0HA" class="List_Continue"><span class="Strong">Note</span>: For a sample Crosstool-NG configuration file, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_appendix_toolchain_cfg_example.html#" title="Appendix: Crosstool-NG Configuration File">Appendix: Crosstool‑NG Configuration File</a></span>..</div><div id="wwpID0E04D0HA" class="Heading_2">Toolchain Information</div><div id="wwpID0E03D0HA" class="Body_Text">The toolchain contains following components:</div><div id="wwpID0E02D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Crosstool-NG reference (http://crosstool-ng.org/)</div><div id="wwpID0E01D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Cross Toolchain Version : 4.5.3</div><div id="wwpID0E0ZD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>glibc Version : 2.11</div><div id="wwpID0E0YD0HA" class="Heading_2">Host System Requirements</div><div id="wwpID0E0XD0HA" class="Body_Text">System requirements for the Ubuntu host systems includes:</div><div id="wwpID0E0WD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Ubuntu 10.04 32-bit distribution (64-bit distribution is not supported for building the toolchain)</div><div id="wwpID0E0VD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Fast host CPU such as Core 2 Duo (to reduce build time)</div><div id="wwpID0E0UD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>1GB Free space on HDD</div><div id="wwpID0E0TD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>2GB SDRAM</div><div id="wwpID0E0SD0HA" class="Heading_2">Dependent Packages</div><div id="wwpID0E0RD0HA" class="Body_Text">The Ubuntu host system must have the following packages installed:</div><div id="wwpID0E0QD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>mercurial</div><div id="wwpID0E0PD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>bison</div><div id="wwpID0E0OD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>flex</div><div id="wwpID0E0ND0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>gperf</div><div id="wwpID0E0MD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>texinfo</div><div id="wwpID0E0LD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>m4</div><div id="wwpID0E0KD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>libtool</div><div id="wwpID0E0JD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>automake</div><div id="wwpID0E0ID0HA" class="Body_Text"><span class="Strong">Verify that the host system is connected to the internet, and  run the </span>following command to install the packages:</div><div id="wwpID0E0HD0HA" class="Code">$ sudo apt-get install mercurial bison flex gperf texinfo m4 libtool automake</div><div id="wwpID0E0GD0HA" class="Heading_2">Building the Toolchain Suite</div><div id="wwpID0E0FD0HA" class="Body_Text">To build the toolchain you must:</div><div id="wwpID0E0ED0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Set the <span class="Code_Char">TOP_DIR</span> environment variable and create a directory tree</div><div id="wwpID0E0DD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Install autoconf-2.68</div><div id="wwpID0E0CD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Configure crosstool-NG</div><div id="wwpID0E0BD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•</span></span>Invoke <span class="Body_Text_Char">the </span>build</div><div id="wwpID0E0AD0HA" class="Heading_5">To set the TOP_DIR environment variable and create directories</div><div id="wwpID0E06C0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>To set the <span class="Code_Char">TOP_DIR</span> variable to <span class="Code_Char">${HOME}/crosstool</span> enter the following command:</div><div id="wwpID0E05C0HA" class="Code">$ export TOP_DIR="${HOME}/crosstool"</div><div id="wwpID0E04C0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>In the <span class="Code_Char">${TOP_DIR}</span> directory, create the following subdirectories:</div><div id="wwpID0E03C0HA" class="Code">$ mkdir depends</div><div id="wwpID0E02C0HA" class="Code">$ mkdir crosstool-ng</div><div id="wwpID0E01C0HA" class="Code">$ cd depends</div><div id="wwpID0E0ZC0HA" class="Code">$ mkdir src</div><div id="wwpID0E0YC0HA" class="Code">$ mkdir install</div><div id="wwpID0E0XC0HA" class="Code">$ cd src</div><div id="wwpID0E0WC0HA" class="Code">$ mkdir autoconf</div><div id="wwpID0E0VC0HA" class="Code">$ mkdir ct-ng</div><div id="wwpID0E0UC0HA" class="Heading_5">To install autoconf-2.68</div><div id="wwpID0E0TC0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Change to the <span class="Code_Char">autoconf</span> directory. Then download <span class="Code_Char">autoconf-2.68.tar.bz2</span> by executing the following commands:</div><div id="wwpID0E0SC0HA" class="Code">$ cd ${TOP_DIR}/depends/src/autoconf</div><div id="wwpID0E0RC0HA" class="Code">$ wget http://ftp.gnu.org/gnu/autoconf/autoconf-2.68.tar.bz2</div><div id="wwpID0E0QC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Extract and configure <span class="Code_Char">autoconf-2.68</span>:</div><div id="wwpID0E0PC0HA" class="Code">$ tar xf autoconf-2.68.tar.bz2</div><div id="wwpID0E0OC0HA" class="Code">$ cd autoconf-2.68</div><div id="wwpID0E0NC0HA" class="Code">$ ./configure --prefix=${TOP_DIR}/depends/install/autoconf_install/autoconf-2.68-install</div><div id="wwpID0E0MC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Make and install <span class="Code_Char">autoconf-2.68</span>:</div><div id="wwpID0E0LC0HA" class="Code">$ make</div><div id="wwpID0E0KC0HA" class="Code">$ make install</div><div id="wwpID0E0JC0HA" class="Heading_5">To configure crosstool-NG</div><div id="wwpID0E0IC0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Change to the <span class="Code_Char">ct-ng</span> directory:</div><div id="wwpID0E0HC0HA" class="Code">$ cd ${TOP_DIR}/depends/src/ct-ng</div><div id="wwpID0E0GC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Add the autoconf-2.68-install directory to your path:</div><div id="wwpID0E0FC0HA" class="Code">$ export PATH=${TOP_DIR}/depends/install/autoconf_install/autoconf-2.68-install/bin:${PATH}</div><div id="wwpID0E0EC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Clone the <span class="Code_Char">crosstool-ng</span> repository:</div><div id="wwpID0E0DC0HA" class="Code">$ hg clone http://crosstool-ng.org/hg/crosstool-ng</div><div id="wwpID0E0CC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Configure <span class="Code_Char">crosstool-ng</span>:</div><div id="wwpID0E0BC0HA" class="Code">$ cd crosstool-ng</div><div id="wwpID0E0AC0HA" class="Code">$ ./bootstrap</div><div id="wwpID0E06B0HA" class="Code">$ ./configure --prefix=${TOP_DIR}/depends/install/ct-ng_install/crosstool-ng-hg-install</div><div id="wwpID0E05B0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Make and install <span class="Code_Char">crosstool-ng</span>:</div><div id="wwpID0E04B0HA" class="Code">$ make</div><div id="wwpID0E03B0HA" class="Code">$ make install</div><div id="wwpID0E02B0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>Create the <span class="Code_Char">${TOP_DIR}/crosstool-ng/src</span> directory for locally saving downloaded packages:</div><div id="wwpID0E01B0HA" class="Code">mkdir ${TOP_DIR}/crosstool-ng/src </div><div id="wwpID0E0ZB0HA" class="Heading_5">To invoke the build</div><div id="wwpID0E0YB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Change to the <span class="Code_Char">/crosstool-ng-hg-install/bin</span> directory:</div><div id="wwpID0E0XB0HA" class="Code">$ cd ${TOP_DIR}/depends/install/ct-ng_install/crosstool-ng-hg-install/bin</div><div id="wwpID0E0WB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;">2.	</span></span>Copy the following content of <span class="Code_Char">.config</span> from the <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/l4t_appendix_toolchain_cfg_example.html#" title="Appendix: Crosstool-NG Configuration File">Sample Crosstool-ng Configuration File</a></span> appendix to this guide to a file called <span class="Code_Char">.config.</span></div><div id="wwpID0E0VB0HA" class="List_Continue"><span class="Code_Char">Note: </span><span class="Code_Char">.config</span><span class="Code_Char"> is a hidden file. After creating it, confirm it exists in the correct location by running </span><span class="Code_Char">ls -a</span><span class="Code_Char"> in the directory.</span></div><div id="wwpID0E0UB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Build <span class="Code_Char">ct-ng</span> using 8 parallel paths:</div><div id="wwpID0E0TB0HA" class="Code">$./ct-ng oldconfig</div><div id="wwpID0E0SB0HA" class="Code">$./ct-ng build.8</div><div id="wwpID0E0RB0HA" class="List_Continue">This will build the complete suite and install the binary components in <span class="Code_Char">${TOP_DIR}/crosstool-ng/install</span>.</div><div id="wwpID0E0QB0HA" class="Heading_2">Verifying the Build</div><div id="wwpID0E0PB0HA" class="Body_Text">After a successful build, the <span class="Code_Char">${TOP_DIR}/crosstool-ng/install</span> directory contains the following tree structure, as reported by the <span class="Code_Char">tree</span> application (where available):</div><div id="wwpID0E0OB0HA" class="Code">$ tree -L 2</div><div id="wwpID0E0NB0HA" class="Code">&nbsp;</div><div id="wwpID0E0MB0HA" class="Code">|-- arm-cortex_a9-linux-gnueabi</div><div id="wwpID0E0LB0HA" class="Code">|   |-- bin</div><div id="wwpID0E0KB0HA" class="Code">|   |-- debug-root</div><div id="wwpID0E0JB0HA" class="Code">|   |-- include</div><div id="wwpID0E0IB0HA" class="Code">|   |-- lib -&gt; sysroot/lib</div><div id="wwpID0E0HB0HA" class="Code">|   |-- lib32 -&gt; lib</div><div id="wwpID0E0GB0HA" class="Code">|   |-- lib64 -&gt; lib</div><div id="wwpID0E0FB0HA" class="Code">|   `-- sysroot</div><div id="wwpID0E0EB0HA" class="Code">|-- bin</div><div id="wwpID0E0DB0HA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-addr2line</div><div id="wwpID0E0CB0HA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-ar</div><div id="wwpID0E0BB0HA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-as</div><div id="wwpID0E0AB0HA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-c++</div><div id="wwpID0E6HA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-cc -&gt; arm-cortex_a9-linux-gnueabi-gcc</div><div id="wwpID0E5HA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-c++filt</div><div id="wwpID0E4HA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-cpp</div><div id="wwpID0E3HA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-ct-ng.config</div><div id="wwpID0E2HA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-g++</div><div id="wwpID0E1HA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-gcc</div><div id="wwpID0EZHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-gcc-4.5.3</div><div id="wwpID0EYHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-gccbug</div><div id="wwpID0EXHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-gcov</div><div id="wwpID0EWHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-gprof</div><div id="wwpID0EVHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-ld</div><div id="wwpID0EUHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-ldd</div><div id="wwpID0ETHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-nm</div><div id="wwpID0ESHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-objcopy</div><div id="wwpID0ERHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-objdump</div><div id="wwpID0EQHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-populate</div><div id="wwpID0EPHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-ranlib</div><div id="wwpID0EOHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-readelf</div><div id="wwpID0ENHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-size</div><div id="wwpID0EMHA" class="Code">|   |-- arm-cortex_a9-linux-gnueabi-strings</div><div id="wwpID0ELHA" class="Code">|   `-- arm-cortex_a9-linux-gnueabi-strip</div><div id="wwpID0EKHA" class="Code">|-- build.log.bz2</div><div id="wwpID0EJHA" class="Code">|-- include</div><div id="wwpID0EIHA" class="Code">|-- lib</div><div id="wwpID0EHHA" class="Code">|   |-- gcc</div><div id="wwpID0EGHA" class="Code">|   |-- ldscripts</div><div id="wwpID0EFHA" class="Code">|   `-- libiberty.a</div><div id="wwpID0EEHA" class="Code">|-- libexec</div><div id="wwpID0EDHA" class="Code">|   `-- gcc</div><div id="wwpID0ECHA" class="Code">`-- share</div><div id="wwpID0EBHA" class="Code">    `-- gcc-4.5.3</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br><hr color="#DEE4F0"><table width="90%" align="center" summary=""><tr><td class="Footer_Left"><font color="gray"><b><br>
        Copyright © 2011-2016 by NVIDIA Corporation.
          All rights reserved.
        </font></td><td class="Footer_Right"><font color="gray">
           PG_06076-R24<br>
        Revised: 11 May 2016
        </font></td></tr></table></footer></body></html>